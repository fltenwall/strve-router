/*!
 * Strve Router v3.0.0
 * (c) 2021-2023 maomincoding
 * Released under the MIT License.
 */
const t="3.0.0",n={path:"",isMounted:!1,_template:null};function e(t,e,i){function r(){if(n.path)return o(n.path,t);if(location.hash){const e=s();return n.isMounted,o(e,t)}return"/index.html"===location.pathname?o("/",t):o(location.pathname,t)}return e&&window.addEventListener("hashchange",(()=>{n.path=s(),n.isMounted=!1,e((()=>{"function"==typeof i&&i()}),{status:"useRouter",routerView:r})}),!1),{view:r}}function o(t,e){for(let o=0;o<e.length;o++){const i=e[o];if(i.path===t){if(n.isMounted)return n._template();n.isMounted=!0;const t=new i.template[0];return n._template=t[i.template[1]],n._template()}}}function i(t,e){t&&(e&&"function"==typeof e&&e(),"string"==typeof t?(window.location.href=`${p()}#${t}`,n.path=t):(t.query?window.location.href=`${p()}#${t.path}?${function(t){const n=[];for(let e in t)n.push(`${e}=${l(t[e])}`);return n.join("&")}(t.query)}`:window.location.href=`${p()}#${t.path}`,n.path=t.path))}function r(t){window.history.go(t)}function a(){window.history.go(-1)}function c(){window.history.go(1)}function u(){const t=decodeURIComponent(location.href.split("?")[1]).replace(/\+/g," ");if(!t)return{};const n={};return t.split("&").forEach((t=>{const e=t.indexOf("=");if(-1!==e){const o=t.substring(0,e),i=t.substring(e+1,t.length);n[o]=i}})),n}function l(t){return t=(t=(t=(t=(t=(t=(t=(t=(t+="").replace(/%/g,"%25")).replace(/\+/g,"%2B")).replace(/ /g,"%20")).replace(/\//g,"%2F")).replace(/\?/g,"%3F")).replace(/&/g,"%26")).replace(/\=/g,"%3D")).replace(/#/g,"%23")}function s(){return-1!==location.hash.indexOf("?")?location.hash.split("#")[1].split("?")[0]:location.hash.split("#")[1]}function p(){const t=window.location.href,n=t.indexOf("#");return`${n>=0?t.slice(0,n):t}`}export{a as back,c as forward,r as go,e as initRouter,i as linkTo,t as routerVersion,u as toParse};
